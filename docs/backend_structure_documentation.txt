# Du√°lis K√©pz√©s Frontend - R√©szletes Projekt Strukt√∫ra √©s Architekt√∫ra

Ez a dokumentum a projekt k√∂nyvt√°rszerkezet√©t, tervez√©si elveit √©s a fejleszt√©s sor√°n k√∂vetend≈ë szab√°lyokat tartalmazza r√©szletesen. A projekt **Feature-Based Architecture** (Funkci√≥ Alap√∫ Architekt√∫ra) elvet k√∂veti.

---

## üèóÔ∏è Alapelvek
1.  **Funkci√≥ > T√≠pus:** A f√°jlokat nem aszerint csoportos√≠tjuk, hogy mik (hook, komponens), hanem hogy **melyik √ºzleti folyamathoz** tartoznak.
2.  **Thin Pages (V√©kony Oldalak):** Az oldalak csak "√∂sszerakj√°k" a UI-t, nem tartalmaznak bonyolult logik√°t.
3.  **T√≠pusbiztons√°g:** Mindent TypeScript interf√©szekkel √≠runk le (`src/types/`).
4.  **Szepar√°ci√≥:**
    - `features/`: √úzleti logika.
    - `components/`: Buta UI elemek.
    - `lib/`: Infrastrukt√∫ra (API).

---

## üìÅ `src/features/` (A Rendszer Sz√≠ve)
Itt tal√°lhat√≥ az alkalmaz√°s √ºzleti logik√°j√°nak 90%-a.

### Mi√©rt √≠gy?
Ha m√≥dos√≠tani kell a "C√©gek" m≈±k√∂d√©s√©t, nem kell 5 k√ºl√∂nb√∂z≈ë glob√°lis mapp√°ban keresg√©lni. Minden egy helyen van: `src/features/companies`.

### Strukt√∫ra (`features/[featureName]/`)
- **`components/`**: Kiz√°r√≥lag ehhez a funkci√≥hoz tartoz√≥ UI.
  - *P√©ld√°k:* `CompanyProfileForm.tsx`, `CompanyEmployeeList.tsx`.
- **`hooks/`**: React hook-ok, amelyek az √°llapotot √©s logik√°t kezelik.
  - *P√©lda:* `useCompanyExport.ts` (Excel export logika).
- **`types/`**: (Opcion√°lis) Helyi t√≠pusok, amik m√°shol nem kellenek.
- **`index.ts`**: **Publikus API**. Csak azt export√°lja, amit m√°s modulok haszn√°lhatnak. (Encapsulation).

### Modulok list√°ja
- **`auth`**: Bejelentkez√©s, token kezel√©s, `AuthContext`.
- **`users`**: Profilkezel√©s (Di√°k, Admin, C√©gadmin).
- **`companies`**: Partnerc√©gek menedzsel√©se.
- **`positions`**: √Åll√°shirdet√©sek kezel√©se.
- **`notifications`**: √ârtes√≠t√©si rendszer.

> **√ñk√∂lszab√°ly:** Ha egy k√≥dr√©szletet **csak** a C√©gek kezel√©s√©hez haszn√°lunk, akkor a `features/companies` mapp√°ba ker√ºl. Ha √°ltal√°nos (pl. egy Gomb), akkor a `components/shared` mapp√°ba.

---

## üìÅ `src/pages/` (√ötvonalak / Routing)
Az oldalak szerepe a **Routing** √©s a **N√©zet √∂ssze√°ll√≠t√°sa**.

### "Thin Page" Architekt√∫ra
Egy oldal ide√°lis esetben √≠gy n√©z ki:
1.  Megh√≠v egy feature hook-ot az adatok√©rt.
2.  Megjelen√≠t egy Layout-ot.
3.  Beleteszi a feature komponenseket.

*Nem tartalmaz k√∂zvetlen API h√≠v√°st (`fetch`), √©s bonyolult logik√°t.*

### Mapp√°k
- `landing/`: Publikus oldalak (Home, √Åll√°sok list√°ja).
- `auth/`: Login, Register.
- `admin/`, `student/`, `hr/`: Szerepk√∂r-specifikus vez√©rl≈ëpultok, amelyek az URL strukt√∫r√°t t√ºkr√∂zik.

---

## üìÅ `src/hooks/` (Glob√°lis Utility Hook-ok)
Olyan seg√©df√ºggv√©nyek, amelyek **b√°rhol** haszn√°lhat√≥ak √©s nem k√∂t≈ëdnek √ºzleti logik√°hoz.

- **`useCRUD.ts` (KRITIKUS):**
  - *Mit csin√°l:* Kezeli az adatbet√∂lt√©s unalmas r√©szeit (loading state, error handling, success messages).
  - *Haszn√°lat:* Admin oldalakon a list√°z√°shoz/t√∂rl√©shez. √çgy nem kell mindenhol k√©zzel √≠rni a `try-catch` blokkokat.
- **`useModal.ts`:**
  - *Mit csin√°l:* Kezeli a felugr√≥ ablakok nyit√°s√°t/z√°r√°s√°t √©s az adat√°tad√°st (pl. szerkeszt√©sn√©l a sor adatait).
- **`useToast.ts`:**
  - *Mit csin√°l:* `toasts.success("Siker!")` vagy `toasts.error("Hiba")` h√≠v√°sok.
- **`useGlobalSearch.ts`:** A `Ctrl+K` parancsmen√º vez√©rl√©se.

---

## üìÅ `src/lib/` (Infrastrukt√∫ra)
A "v√≠zvezet√©k szerel√©s". Nem tartalmaz UI-t, csak adatmozgat√°st.

1.  **`api-client.ts` (A Motor):**
    - A `fetch` API wrapperje.
    - Automatikusan csatolja a `Bearer` tokent.
    - Automatikusan dob hib√°t 401/500 eset√©n.
    - √çgy nem kell minden h√≠v√°sn√°l `headers`-t √≠rni.
2.  **`api.ts` (Az √âtlap):**
    - Felsorolja a rendszer **√∂sszes** API v√©gpontj√°t.
    - Haszn√°lat: `api.companies.list()` vagy `api.auth.login()`.
3.  **`auth-token.ts`:**
    - Kis utility a token `localStorage`-ba ment√©s√©hez.

> **Szab√°ly:** Soha ne haszn√°lj `fetch()`-et komponensben. Mindig haszn√°ld az `api.ts`-t.

---

## üìÅ `src/components/` (Megosztott UI)
- **`ui/` (Atomok):**
  - Buta komponensek. Pl.: `Button.tsx`.
  - Nem tudnak semmit az √ºzleti logik√°r√≥l.
- **`shared/` (Molekul√°k):**
  - Komplexebb, de m√©g mindig √∫jrahasznos√≠that√≥ elemek.
  - Pl.: `ExportButton.tsx` (Excel ikonnal), `GlobalSearch.tsx` (Keres≈ëmez≈ë).

---

## üìÅ `src/layouts/` (Keretrendszer)
Meghat√°rozza az oldalak v√°z√°t (Sidebar, Header).

- **`DashboardLayout.tsx` (A Mester Sablon):**
  - Tartalmazza a Sidebart √©s a tartalom ter√ºletet (`Outlet`).
  - Ez a sz√ºl≈ëje az √∂sszes t√∂bbi layoutnak.
- **Szerepk√∂r Layoutok (`AdminLayout`, `StudentLayout`):**
  - Ezek csak "konfigur√°lj√°k" a `DashboardLayout`-ot.
  - Megmondj√°k, milyen men√ºpontok legyenek az oldals√°vban (pl. Admin l√°tja a "Felhaszn√°l√≥kat", de a Di√°k nem).

---

## üìÅ `src/utils/` (Seg√©df√ºggv√©nyek)
Tiszta f√ºggv√©nyek (Pure Functions). Bemenet -> Kimenet, mell√©khat√°s n√©lk√ºl.

- **`cn.ts` (Stylist):**
  - Tailwind oszt√°lyok √∂sszef≈±z√©se.
  - *P√©lda:* `cn("p-4 bg-red-500", isActive && "bg-green-500")` -> Kezeli az √ºtk√∂z√©seket.
- **`export.ts`:**
  - Excel f√°jl gener√°l√°sa JSON t√∂mbb≈ël. A hook-ok ezt h√≠vj√°k meg a h√°tt√©rben.
- **`validation-utils.ts`:**
  - Valid√°torok: `isValidEmail()`, `validatePassword()`.
- **`city-coordinates.ts`:**
  - Statikus adatb√°zis magyar v√°rosok koordin√°t√°ival a t√©rk√©phez (√≠gy nem kell Google Maps API h√≠v√°s).

---

## üìÅ `src/types/` (Sz√≥t√°r)
Az adatok form√°tum√°nak k√∂zponti defin√≠ci√≥ja.

- **`api.types.ts`:** A Backend √©s Frontend k√∂z√∂tti "Szerz≈ëd√©s".
  - Itt vannak az interf√©szek: `Company`, `Position`, `User`.
- **`common.types.ts`:** √Åltal√°nos t√≠pusok (`Id`, `ApiErrorBody`).
- **`ui.types.ts`:** UI specifikus t√≠pusok (pl. Tab opci√≥k).

---

## üìÅ `src/constants/` vs `src/config/`
Mi a k√ºl√∂nbs√©g?

- **`constants/` (Amit a User l√°t - Tartalom):**
  - Sz√∂vegek, C√≠mk√©k, √úzenetek (`messages.ts`).
  - URL √ötvonalak (`routes.ts`).
  - Sz√≠nek, UI m√©retek (`ui.ts`).
  - *C√©l:* Ha ford√≠tani kell (i18n), vagy √°t√≠rni a "Ment√©s" gombot "R√∂gz√≠t"-re, itt kell m√≥dos√≠tani.

- **`config/` (Amit a K√≥d haszn√°l - Technikai):**
  - `navigation.ts`: Melyik szerepk√∂r hova navig√°ljon login ut√°n.
  - `app.config.ts`: API URL, Feature Flag-ek (pl. `ENABLE_MAP_VIEW`).
